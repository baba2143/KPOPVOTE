# K-VOTE COLLECTOR - ç®¡ç†ç”»é¢

K-VOTE COLLECTORã®ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ“‹ æ©Ÿèƒ½æ¦‚è¦

### å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
- âœ… **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ã‚µãƒ¼ãƒ“ã‚¹çµ±è¨ˆã¨ã‚°ãƒ©ãƒ•è¡¨ç¤º
- âœ… **ç‹¬è‡ªæŠ•ç¥¨ç®¡ç†**: æŠ•ç¥¨ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- âœ… **ã‚¢ã‚¤ãƒ‰ãƒ«ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†**: ã‚¢ã‚¤ãƒ‰ãƒ«/ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ã® CRUD
- âœ… **å¤–éƒ¨ã‚¢ãƒ—ãƒªãƒã‚¹ã‚¿ãƒ¼ç®¡ç†**: æŠ•ç¥¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±ã® CRUD
- âœ… **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç›£è¦–**: å ±å‘Šã•ã‚ŒãŸæŠ•ç¨¿ã®ç¢ºèªã¨å‰Šé™¤
- âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ãƒ»è©³ç´°è¡¨ç¤ºãƒ»ãƒã‚¤ãƒ³ãƒˆä»˜ä¸ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåœæ­¢
- âœ… **ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°**: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã¨ç®¡ç†æ“ä½œãƒ­ã‚°ã®è¡¨ç¤º

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18+ ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¨­å®šæ¸ˆã¿
- ç®¡ç†è€…æ¨©é™ã‚’æŒã¤ Firebase ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### é–‹ç™ºç’°å¢ƒã®èµ·å‹•

```bash
# admin ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd admin

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm start
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ã„ã¦ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹

### ç®¡ç†è€…æ¨©é™ã®è¨­å®š

ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€Firebase ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ã§ã™:

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ
cd functions
npm run set-admin -- <USER_EMAIL>
```

ã¾ãŸã¯æ‰‹å‹•ã§è¨­å®š:
```bash
firebase functions:shell
> setAdmin({data: {email: 'admin@example.com'}})
```

## ğŸ“¦ ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰

```bash
cd admin
npm run build
```

ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã¯ `admin/build/` ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### Firebase Hosting ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ

# 1. ç®¡ç†ç”»é¢ã‚’ãƒ“ãƒ«ãƒ‰
cd admin && npm run build && cd ..

# 2. Firebase Hosting ã«ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only hosting:admin
```

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€ä»¥ä¸‹ã®URLã§ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½:
- **æœ¬ç•ªç’°å¢ƒ**: https://kpopvote-admin.web.app

### åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®è¨­å®š

Firebase Hosting ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãŒæœªè¨­å®šã®å ´åˆ:

```bash
# admin ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’è¨­å®š
firebase target:apply hosting admin kpopvote-admin

# ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only hosting:admin
```

## ğŸ› ï¸ åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### `npm start`
é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã€‚
http://localhost:3000 ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€‚

### `npm test`
ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã‚’èµ·å‹•ã€‚

### `npm run build`
æœ¬ç•ªç”¨ã«ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã€‚
`build/` ãƒ•ã‚©ãƒ«ãƒ€ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### `npm run lint`
ESLint ã§ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
admin/
â”œâ”€â”€ public/              # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ dashboard/   # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ externalApp/ # å¤–éƒ¨ã‚¢ãƒ—ãƒªãƒã‚¹ã‚¿ãƒ¼ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ idol/        # ã‚¢ã‚¤ãƒ‰ãƒ«ãƒã‚¹ã‚¿ãƒ¼ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ layout/      # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ user/        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ vote/        # æŠ•ç¥¨ç®¡ç†ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ config/          # Firebaseè¨­å®š
â”‚   â”œâ”€â”€ contexts/        # React Context (èªè¨¼ãªã©)
â”‚   â”œâ”€â”€ pages/           # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ services/        # APIé€šä¿¡ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ types/           # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ App.tsx          # ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ index.tsx        # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### èªè¨¼
- Firebase Authentication ã‚’ä½¿ç”¨
- ç®¡ç†è€…ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼ˆã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ  `admin: true` ãŒå¿…è¦ï¼‰

### CORSè¨­å®š
- Cloud Functions ã§ CORS ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¨­å®šæ¸ˆã¿
- æœ¬ç•ªç’°å¢ƒã§ã¯é©åˆ‡ãªã‚ªãƒªã‚¸ãƒ³ã®ã¿è¨±å¯ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
```bash
# node_modules ã‚’å‰Šé™¤ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules package-lock.json
npm install
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼
```bash
# Firebase CLI ã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°
npm install -g firebase-tools

# Firebase ã«ãƒ­ã‚°ã‚¤ãƒ³
firebase login

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç¢ºèª
firebase projects:list
```

### èªè¨¼ã‚¨ãƒ©ãƒ¼
- ç®¡ç†è€…æ¨©é™ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- Firebase Console ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã® Custom Claims ã‚’ç¢ºèª

## ğŸ“š æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **React** 18
- **TypeScript** 4
- **Material-UI (MUI)** 5
- **Firebase** (Authentication, Firestore, Functions, Hosting)
- **React Router** 6
- **Chart.js** & **react-chartjs-2**
- **date-fns**

## ğŸ“– å‚è€ƒè³‡æ–™

- [Create React App Documentation](https://facebook.github.io/create-react-app/docs/getting-started)
- [Material-UI Documentation](https://mui.com/)
- [Firebase Documentation](https://firebase.google.com/docs)

## ğŸ¤ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® GitHub Issues ã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚
